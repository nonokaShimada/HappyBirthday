<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正解</title>
    <link rel="stylesheet" href="../css/base.css">
  </head>
<body>
  <h1>正解！</h1>
  <br>
 <button id="next">次へ</button>
 
  <div id="hint"></div>
  <div id="url"></div>

  <button type="button" id="nextAnswer" style="display: none; cursor: pointer;">次の回答を行う</button>

  <script>
    function getParameterByName(name, url = window.location.href) {
      name = name.replace(/[\[\]]/g, '\\$&');
      let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
      let results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    document.getElementById("next").addEventListener("click", function() {
      let key = getParameterByName('key') || localStorage.getItem('key');
      let value = getParameterByName('value') || localStorage.getItem('value');
      let hint = document.getElementById('hint');
      let url = document.getElementById('url');
      let nextAnswer = document.getElementById('nextAnswer');

      // Save key and value to localStorage
      if (key && value) {
        localStorage.setItem('key', key);
        localStorage.setItem('value', value);
      }

    if (key === 'questionNumber') {
      if (value === 'kakizome') {
      hint.innerHTML = 'ヒント！ ： 毎月食べたいものと言えば・・・';
      url.innerHTML = '参考URL： ' + '<a href="https://www.kumon.ne.jp/kumonnow/topics/vol502/#:~:text=%E6%9B%B8%E5%88%9D%E3%82%81%E3%81%AE%E8%B5%B7%E6%BA%90%E3%81%AF%E5%B9%B3%E5%AE%89%E6%99%82%E4%BB%A3,-%E6%AD%8C%E5%B7%9D%E8%B1%8A%E5%9B%BD%E3%80%8C%E9%A2%A8%E6%B5%81&text=%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E3%81%AB%E3%80%8C%E5%90%89%E6%9B%B8%E3%81%AF%E3%81%98%E3%82%81,%E4%B8%AD%E3%81%AB%E5%BA%83%E3%81%8C%E3%82%8A%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82" target="_blank">書初めの起源は平安時代 -KUMON- </a>';
      } else if (value === 'machuPicchu') {
      hint.innerHTML = '<img src="../pictures/machuPicchu.jpg" width="300" height="200">';
      url.innerHTML = '参考URL： ' + '<a href="https://www.his-j.com/tyo/zekkei/machu_picchu/#:~:text=%E3%83%9E%E3%83%81%E3%83%A5%E3%83%94%E3%83%81%E3%83%A5%E3%81%AF%E5%8D%97%E7%B1%B3%E3%83%9A%E3%83%AB%E3%83%BC%E3%81%AE,%E6%AE%B5%E3%80%85%E7%95%91%E3%81%8C%E5%BA%83%E3%81%8C%E3%81%A3%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82" target="_blank">マチュピチュの絶景 -HIS- </a>';
      } else if (value === 'caesar') {
      hint.innerHTML = '暗号を解け';
      url.innerHTML = '参考URL： ' + '<a href="https://mathematica.site/keyword_person2/caesar-4/" target="_blank">カエサルとは？ -Mathematica- </a>';
      } else if (value === 'iety') {
      hint.innerHTML = 'とても寒い…';
      } else if (value === 'notyet') {
      hint.innerHTML = '熊に食べられちゃった…';
      } else if (value === 'enigma') {
      hint.innerHTML = '鍵：firstname lastname';
      url.innerHTML = '参考URL： ' + '<a href="https://inside.dmm.com/articles/enigma/" target="_blank">エニグマ暗号について </a>';
      } else if (value === 'advent') {
      hint.innerHTML = '5';
      } else if (value === 'harry') {
      hint.innerHTML = 'ヒント！ ： ハリーが幼少期暮らしていた部屋';
      }else if (value === 'suihanki') {
      window.location.href = `last.html`;
      }
      else {
        hint.innerHTML = 'Invalid value received.';
      }
      nextAnswer.style.display = 'block';
      nextAnswer.onclick = function() {
        window.location.href = `answer.html?id=${key}&value=${value}`;
      }
    } else {
      hint.innerHTML = 'Invalid ID received.';
    }
  });
  </script>
</body>
</html>